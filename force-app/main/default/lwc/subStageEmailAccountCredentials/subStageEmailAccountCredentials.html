<template>
    <div class="c-container">
        <template lwc:if={isLoading}>
            <div class="spinner-container slds-spinner_inline slds-align_absolute-center">
                <lightning-spinner alternative-text="Loading" size="medium" variant="brand"></lightning-spinner>
            </div>
        </template>
        <template lwc:else>
            <lightning-record-edit-form record-id={oppId} object-api-name="Opportunity">
                <lightning-layout multiple-rows="true">
                    <lightning-layout-item padding="around-small" size="8">
                        <lightning-input-field field-name="Access_Email_Account__c"
                            value={record.Access_Email_Account__c} onchange={handleAccessEmailAccount} required>
                        </lightning-input-field>
                    </lightning-layout-item>

                    <template lwc:if={record.Access_Email_Account__c}>
                        <lightning-layout-item padding="around-small" size="8">
                            <lightning-input-field field-name="Change_Email_account_name__c"
                                value={record.Change_Email_account_name__c} required>
                            </lightning-input-field>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" size="8">
                            <lightning-input-field field-name="Remove_Email_Forwarding_Roles__c"
                                value={record.Remove_Email_Forwarding_Roles__c}>
                            </lightning-input-field>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" size="8">
                            <lightning-input-field field-name="Empty_mailbox_and_trash__c"
                                value={record.Empty_mailbox_and_trash__c} required>
                            </lightning-input-field>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" size="8">
                            <lightning-input-field field-name="Logout_and_in_to_Email_check_PW_and_QR__c"
                                value={record.Logout_and_in_to_Email_check_PW_and_QR__c} required>
                            </lightning-input-field>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" size="8">
                            <lightning-input-field field-name="Email_Address_on_Email_Account__c" disabled>
                            </lightning-input-field>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" size="8">
                            <lightning-input-field field-name="Email_Password__c" disabled>
                            </lightning-input-field>
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" size="8">
                            <lightning-input-field field-name="Email_QR_code__c" disabled>
                            </lightning-input-field>
                        </lightning-layout-item>
                    </template>
                </lightning-layout>
            </lightning-record-edit-form>
        </template>
    </div>
</template>